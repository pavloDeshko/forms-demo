(this.webpackJsonpforms=this.webpackJsonpforms||[]).push([[0],{101:function(e,t,n){e.exports=n(182)},106:function(e,t,n){},109:function(e,t,n){},112:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(3),c=n.n(o),i=(n(106),n(19)),s=n(20),u=n(22),l=n(21),h=n(23),f=(n(183),n(74)),p=(n(109),n(52)),m=n.n(p),d=n(91),j=n(0),b=n.n(j),v=(n(112),n(184),n(97)),O=(n(115),n(76)),g=(n(117),n(98)),y=(n(119),n(75)),C=(n(121),n(99)),E=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.text;return r.a.createElement(C.a,{onChange:function(t){return e.props.onChange(t.target.checked)},checked:n},a)}}]),t}(r.a.PureComponent),k=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.text,a=e.children;return r.a.createElement(y.a,{activeKey:t?1:[],bordered:!0},r.a.createElement(y.a.Panel,{header:r.a.createElement(E,Object.assign({onChange:this.props.onChange},{value:t,text:n})),showArrow:!1,key:1},a))}}]),t}(r.a.PureComponent),x=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.text,o=t.options;return r.a.createElement("div",null,r.a.createElement("span",null,a+":"),r.a.createElement(g.a.Group,Object.assign({onChange:function(t){return e.props.onChange(t.target.value)}},{value:n,options:o})))}}]),t}(r.a.PureComponent),w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.value,a=e.text;return r.a.createElement("label",null,r.a.createElement(O.a,{onChange:t,value:n,precision:0}),a)}}]),t}(r.a.PureComponent),A=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.value,a=e.text,o=e.dec;return r.a.createElement("label",null,r.a.createElement(O.a,{onChange:t,value:n,precision:o}),a)}}]),t}(r.a.PureComponent),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.text;return r.a.createElement("label",null,a,r.a.createElement(v.a.TextArea,{onChange:function(t){return e.props.onChange(t.target.value)},value:n,placeholder:"...",maxLength:900,rows:3}))}}]),t}(r.a.PureComponent),S=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={spec:null,dataArray:{}},n.fetchSpec=function(){var e=this;this.ajax=(this.ajax||m()()).url("/forms-demo/static/spec/"+this.props.formId+".json").on("success",(function(t){e.setState({dataArray:D(t)}),e.setState({spec:t})})).on("failure",(function(t){return e.fetchSpec})).go()},n.toChange=function(e){var t=Object.assign({},n.state.dataArray,e);n.setState({dataArray:t})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchSpec()}},{key:"componentDidUpdate",value:function(e,t){this.props.formId!=e.formId&&this.fetchSpec()}},{key:"componentWillUnmount",value:function(){this.ajax&&(this.ajax.off("success"),this.ajax.off("failure"))}},{key:"render",value:function(){var e=this;return this.state.spec?r.a.createElement("div",null,this.state.spec.children.map((function(t){return r.a.createElement(P,{onChange:e.toChange,field:t,dataArray:e.state.dataArray})}))):"\u0424\u043e\u0440\u043c\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u044c\u0441\u044f ..."}}]),t}(r.a.Component);S.proTypes={formId:b.a.string};var P=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,n=this.props.field,a=n.num,o=n.type,c=n.dec,i=n.data,s=n.children,u={onChange:function(t){return e.props.onChange(Object(d.a)({},a,t))},value:this.props.dataArray[a],text:i};if("L"==o&&s.length>0)return r.a.createElement(k,Object.assign({},u,{children:s.map((function(n){return r.a.createElement(t,{onChange:e.props.onChange,field:n,dataArray:e.props.dataArray})}))}));if("L"==o)return r.a.createElement(E,u);if("V"==o&&s.length>0)return r.a.createElement(x,Object.assign({},u,{options:s.map((function(e){return{label:e.data,value:e.num}}))}));if("N"==o&&c||"C"==o)return r.a.createElement(A,Object.assign({},u,{dec:c||10}));if("N"==o)return r.a.createElement(w,u);if("T"==o)return r.a.createElement(I,u);throw console.dir(this.props.field),new Error("Problems with your spec, wrong field.")}}]),t}(r.a.Component);function D(e){var t={},n={N:0,L:!1,V:"",T:"",C:0};return function e(a){a.children.forEach((function(a){t[a.num]=n[a.type],e(a)}))}(e),t}var L=f.a.Option,N=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={dic:{},formId:""},n.fetchDic=function(){var e=this;this.ajax=m()().url("/forms-demo/static/spec/dic.json").on("success",(function(t){e.setState({dic:t})})).on("failure",(function(t){return e.fetchData})).go()},n.toChange=function(e){return n.setState({formId:e})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchDic()}},{key:"componentWillUnmount",value:function(){this.ajax&&(this.ajax.off("success"),this.ajax.off("failure"))}},{key:"render",value:function(){var e=this;return[this.state.dic?r.a.createElement(f.a,{showSearch:!0,onChange:this.toChange,size:"large",placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0444\u043e\u0440\u043c\u0443",style:{width:"100%","margin-bottom":"24px","margin-top":"24px"},value:this.state.formId||void 0},Object.keys(this.state.dic).map((function(t){return r.a.createElement(L,{key:t},e.state.dic[t])}))):"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u044c\u0441\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0445 \u0444\u043e\u0440\u043c ...",this.state.formId?r.a.createElement("div",{className:"Form"},r.a.createElement(S,{formId:this.state.formId})):""]}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[101,1,2]]]);
//# sourceMappingURL=main.66dd12c0.chunk.js.map